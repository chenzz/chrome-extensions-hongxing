(function(){var e,n;e=["underscore","debug","angular","background/module"],n=function(e,n,r){var i,timeService;return i=n("timeService"),timeService=function($http,$rootScope){var e,n,r,u;return $rootScope.deltaTime=0,r=null,e=null,u=function(){return $http.get("http://www.timeapi.org/utc/now").success(function(n){return r=new Date(n.dateString),e=new Date}).error(function(){return r=null,e=null})["finally"](function(){return $rootScope.deltaTime=r?e.getTime()-r.getTime():0,i("deltaTime %s",$rootScope.deltaTime)})},n=new Date,setInterval(function(){var e;return e=new Date,Math.abs(e.getTime()-n.getTime())>3e4&&($rootScope.deltaTime=0,$rootScope.$apply(),u()),n=new Date},1e3),u(),this},r.module("background").service("timeService",timeService)},define(e,n)}).call(this);